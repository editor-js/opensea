(function(){"use strict";try{if(typeof document!="undefined"){var e=document.createElement("style");e.appendChild(document.createTextNode("._opensea-tool_76yf4_1{margin:1em auto}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(e,t){typeof exports=="object"&&typeof module<"u"?module.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self,e.OpenseaTool=t())})(this,function(){"use strict";var o=Object.defineProperty;var p=(e,t,i)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var r=(e,t,i)=>(p(e,typeof t!="symbol"?t+"":t,i),i);const e={"opensea-tool":"_opensea-tool_76yf4_1"};class t{constructor({data:d,config:n,api:s,readOnly:a}){r(this,"api");r(this,"readOnly");r(this,"data");r(this,"config");r(this,"nodes");r(this,"scriptUrl","https://unpkg.com/embeddable-nfts/dist/nft-card.min.js");this.data=d,this.config=n,this.api=s,this.readOnly=a,this.nodes={wrapper:null,nftCard:null}}render(){if(this.nodes.wrapper=document.createElement("div"),this.nodes.wrapper.classList.add(e["opensea-tool"]),this.data.contractAddress&&this.data.tokenId&&this.renderNftCard(),!document.querySelector(`script[src="${this.scriptUrl}"]`)){const n=document.createElement("script");n.src=this.scriptUrl,document.head.appendChild(n)}return this.nodes.wrapper}save(){return this.data}onPaste(d){const{data:n}=d.detail,s=n.match(t.regexp);if(!s||s.length<4){this.api.notifier.show({message:"Bad opensea item URL",style:"error"});return}this.data={coin:s[1],contractAddress:s[2],tokenId:s[3]},this.renderNftCard()}static get pasteConfig(){return{patterns:{opensea:t.regexp}}}static get isReadOnlySupported(){return!0}static get regexp(){return/^https:\/\/opensea\.io\/assets\/([a-zA-Z]+)\/([A-Za-z0-9]+)\/([A-Za-z0-9]+)$/i}renderNftCard(){this.nodes.nftCard=document.createElement("nft-card"),this.nodes.nftCard.setAttribute("contractAddress",this.data.contractAddress),this.nodes.nftCard.setAttribute("tokenId",this.data.tokenId),this.nodes.wrapper?(this.nodes.wrapper.innerHTML="",this.nodes.wrapper.appendChild(this.nodes.nftCard)):this.api.notifier.show({message:"Wrapper is not initialized",style:"error"})}}return t});
